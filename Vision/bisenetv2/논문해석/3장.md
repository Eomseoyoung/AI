> ### 3. BiSeNet V2의 핵심 개념 (Core Concepts of BiSeNet V2)
> 
> 본 절에서는 제안하는 네트워크 구조의 핵심 개념을 설명한다.
> 
> 본 아키텍처는 Detail Branch(디테일 분기)와 Semantic Branch(의미 분기)로 구성되며 Aggregation Layer(집계 계층)를 통해 결합된다.
> 
> 전체 개념적 구조는 논문의 Figure 2(c)에 제시되어 있다.


>  ### 3.1 Detail Branch (디테일 분기)
> Detail Branch와 병렬로, Semantic Branch는 고수준 의미 정보(high-level semantics)를 포착하도록 설계된다.
>
> #### 주요특징
>
> * 풍부한 공간 정보를 인코딩하기 위해 넓은 채널 수(high channel capacity)가 필요
> * 저수준 정보에 집중하므로 얕은 네크워크 구조(shallow layers)로 설계 가능
> * 작은 스트라이드(stride)를 사용하여 고해상도 특징 맵 유지
>   -> 핵심 철학은 넓은 채널 + 얕은 층을 사용해 공간 디테일을 보존하는 것
>
> 또한 이 분기에서 생성되는 특징 맵은 공간 해상도가 크고 채널수도 많기 때문에,
> 
> 잔차 연결(residual connection)을 사용하는 것은 메모리 접근 비용을 증가시키고 속도를 저하시킬 수 있다.
> 
> 따라서 본 연구에서는 Detail Branch에 잔차 구조를 사용하지 않는 것이 더 효율적이라고 판단한다.

> ### 3.2 Semantic Branch (의미 분기)
> Detail Branch와 병렬로, Semantic Branch는 고수준 의미 정보(high-level semantics)를 포착하도록 설계된다.
>
> #### 주요 특징
>
> * 낮은 채널 수(low channel capacity)
>     -> 공간 디테일은 Detail Branch가 제공하므로 채널 수를 줄일 수 있음
>   
> * Detail Branch 대비 채널 비율을 λ(λ < 1)로 설정
>     -> Semantic Branch를 매우 경량화
>   
> * Semantic Branch는 본질적으로 큰 수용 영역만 필요
>
> 실험에서 Semantic Branch는 Detail Branch 채널 수의 λ배만 사용하며, 이를 통해 연산량과 메모리 사용량을 크게 줄인다.
>
> 실제로 Semantic Branch는 다음과 같은 어떤 경량 CNN 모델로도 대체 가능하다.
> 
> * Xception
> * SqueezeNet
> * MobileNet
> * ShuffleNet 등
>
> #### 빠른 다운 샘플링 전략 (Fast-downsampling Strategy)
> 
> Semantic Branch는 빠른 다운샘플링 전략을 사용하여 다음을 달성한다.
> 
> * 특징 표현의 수준(level)을 빠르게 상승
> * 수용 영역을 빠르게 확장
>
> 이는 고수준 의미 정보를 얻는 데 필수적인 조건이다.
>
> ### 전역 문맥 임베딩(Global Context Embedding)
>
> 고수준 의미는 전역 문맥 정보(global context)에 크게 의존한다.
> 이를 위해 Semantic Branch는 Global Average Plloing을 사용하여 전역 문맥 응답을 임베딩한다.
>
> 즉, Semantic Branch는 해상도를 빠르게 줄이고, 문맥 범위는 크게 확보하는 데 초점을 둔다.


> ### 3.3 Aggregation Layer (집계 계층)
> 
> Detail Branch와 Semantic Branch에서 생성된 특징 표현은 상호 보완적이다.
> 그러나 두 분기는 서로의 정보를 직접 인지하지 못한다.
>
> 따라서 본 연구에서는 두 특징을 효과적으로 결합하기 위해 Aggregation Layer를 설계한다.
>
> #### 집계의 필요성
> * Semantic Branch는 빠른 다운샘플링으로 인해
>   -> 출력 특징 맵의 공간 해상도가 Detail Branch보다 작음
>   * 따라서 Semantic Branch의 출력을 업샘플링하여 Detail Branch의 출력과 해상도를 맞춰야함.
>  
> #### 기존 결합 방식의 한계
> 기존에는 다음과 같은 방식이 주로 사용되었다.
> * 단순 합(element-wise summation)
> * 채널 결합(concatenation)
>
> 하지만 이러한 방식은 다음 문제를 가진다.
> * 두 특징의 포현 수준(level)이 다름
>       * Detail Branch : 저수준
>       * Semantic Branch : 고수준
> * 단순 결합은 정보의 성격 차이를 무시하여
>   -> 성능 저하 및 최적화 어려움 발생
>
> ### Bilateral Aggregation 채택
>
> 본 연구에서는 정확도와 효율성을 모두 고려하여, 양방향 집계(Bidirectional Aggregation)방식을 최종적으로 채택한다.



> ### 결론
> 두가지의 정보를 합산하기 위해 Aggregation Layer를 추가하여 채널정보의 손실을 막고 두 특징을 결합하기위한 레이어를 하나 만들어 사용한다.
